# AIION Platform - ì „ì²´ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

> **ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ê¸°ë°˜ AI í†µí•© í”Œë«í¼**  
> ì‘ì„±ì¼: 2025-12-03  
> ë²„ì „: 2.0

---

## ğŸ“‹ ëª©ì°¨

1. [ì‹œìŠ¤í…œ ê°œìš”](#1-ì‹œìŠ¤í…œ-ê°œìš”)
2. [ì „ì²´ ì•„í‚¤í…ì²˜](#2-ì „ì²´-ì•„í‚¤í…ì²˜)
3. [ë ˆì´ì–´ êµ¬ì¡°](#3-ë ˆì´ì–´-êµ¬ì¡°)
4. [ì„œë¹„ìŠ¤ ëª©ë¡](#4-ì„œë¹„ìŠ¤-ëª©ë¡)
5. [ë°ì´í„° íë¦„](#5-ë°ì´í„°-íë¦„)
6. [ê¸°ìˆ  ìŠ¤íƒ](#6-ê¸°ìˆ -ìŠ¤íƒ)
7. [ì¸í”„ë¼ êµ¬ì¡°](#7-ì¸í”„ë¼-êµ¬ì¡°)
8. [ë³´ì•ˆ ì•„í‚¤í…ì²˜](#8-ë³´ì•ˆ-ì•„í‚¤í…ì²˜)
9. [í™•ì¥ ê°€ì´ë“œ](#9-í™•ì¥-ê°€ì´ë“œ)

---

## 1. ì‹œìŠ¤í…œ ê°œìš”

### 1.1 í”„ë¡œì íŠ¸ êµ¬ì¡°

```
develop/                                    # ë£¨íŠ¸ ë””ë ‰í† ë¦¬
â”œâ”€â”€ .env                                    # í™˜ê²½ ë³€ìˆ˜ (Neon, Upstash, OAuth, API Keys)
â”œâ”€â”€ docker-compose.yaml                     # í†µí•© ì»¨í…Œì´ë„ˆ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜
â”‚
â”œâ”€â”€ api.aiion.site/                         # API Gateway & ì„œë²„ ê´€ë¦¬
â”‚   â”œâ”€â”€ server/gateway/                     # Spring Cloud Gateway
â”‚   â”œâ”€â”€ parse_nanjung.py                    # ë°ì´í„° íŒŒì‹± ìŠ¤í¬ë¦½íŠ¸
â”‚   â””â”€â”€ nanjung.csv                         # ì¼ê¸° ë°ì´í„°
â”‚
â”œâ”€â”€ service.aiion.site/                     # ë„ë©”ì¸ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ (Spring Boot)
â”‚   â”œâ”€â”€ common-service/                     # ê³µí†µ ê¸°ëŠ¥
â”‚   â”œâ”€â”€ auth-service/                       # ì¸ì¦/ì¸ê°€ (OAuth2, JWT)
â”‚   â”œâ”€â”€ user-service/                       # ì‚¬ìš©ì ê´€ë¦¬
â”‚   â”œâ”€â”€ diary-service/                      # ì¼ê¸° ê´€ë¦¬
â”‚   â”œâ”€â”€ calendar-service/                   # ì¼ì •/ì‘ì—… ê´€ë¦¬
â”‚   â”œâ”€â”€ culture-service/                    # ë¬¸í™” ì •ë³´
â”‚   â”œâ”€â”€ healthcare-service/                 # ê±´ê°• ê´€ë¦¬
â”‚   â”œâ”€â”€ pathfinder-service/                 # ê²½ë¡œ íƒìƒ‰
â”‚   â””â”€â”€ account-service/                    # ê°€ê³„ë¶€
â”‚
â”œâ”€â”€ ai.aiion.site/                          # AI ì„œë¹„ìŠ¤ (Python/FastAPI)
â”‚   â”œâ”€â”€ rag/chatbot_service/                # AI ì±—ë´‡ (OpenAI)
â”‚   â”œâ”€â”€ feed/weather_service/               # ê¸°ìƒì²­ API ì—°ë™
â”‚   â””â”€â”€ feed/crawler_service/               # ì›¹ í¬ë¡¤ë§
â”‚
â”œâ”€â”€ erp.aiion.site/                         # ERP ì„œë¹„ìŠ¤ (Python/FastAPI)
â”‚   â””â”€â”€ customer_service/                   # ì¬ê³  ê´€ë¦¬
â”‚
â”œâ”€â”€ www.aiion.site/                         # ì‚¬ìš©ì í”„ë¡ íŠ¸ì—”ë“œ (Next.js)
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ app/                            # í˜ì´ì§€ (Landing, Home, Login)
â”‚       â”œâ”€â”€ components/                     # Atomic Design ì»´í¬ë„ŒíŠ¸
â”‚       â”œâ”€â”€ store/                          # Zustand ìƒíƒœ ê´€ë¦¬
â”‚       â””â”€â”€ lib/                            # API í´ë¼ì´ì–¸íŠ¸
â”‚
â””â”€â”€ admin.aiion.site/                       # ê´€ë¦¬ì í”„ë¡ íŠ¸ì—”ë“œ (Next.js)
    â””â”€â”€ src/
        â”œâ”€â”€ app/dashboard/                  # ëŒ€ì‹œë³´ë“œ
        â”œâ”€â”€ containers/                     # ì»¨í…Œì´ë„ˆ ì»´í¬ë„ŒíŠ¸
        â”œâ”€â”€ handlers/                       # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
        â”œâ”€â”€ service/                        # API ì„œë¹„ìŠ¤
        â””â”€â”€ store/                          # Zustand ìƒíƒœ ê´€ë¦¬
```

---

## 2. ì „ì²´ ì•„í‚¤í…ì²˜

### 2.1 ì‹œìŠ¤í…œ ë‹¤ì´ì–´ê·¸ë¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           Client Layer                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   www.aiion.site        â”‚        â”‚  admin.aiion.site       â”‚         â”‚
â”‚  â”‚   (User Frontend)       â”‚        â”‚  (Admin Dashboard)      â”‚         â”‚
â”‚  â”‚                         â”‚        â”‚                         â”‚         â”‚
â”‚  â”‚  â€¢ Next.js 15           â”‚        â”‚  â€¢ Next.js 15           â”‚         â”‚
â”‚  â”‚  â€¢ Zustand Store        â”‚        â”‚  â€¢ Zustand Store        â”‚         â”‚
â”‚  â”‚  â€¢ Atomic Design        â”‚        â”‚  â€¢ IIFE Pattern         â”‚         â”‚
â”‚  â”‚  â€¢ OAuth Login          â”‚        â”‚  â€¢ Email Login          â”‚         â”‚
â”‚  â”‚  â€¢ Port: 3000           â”‚        â”‚  â€¢ Port: 4000           â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚              â”‚                                    â”‚                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                                    â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          Edge Layer (API Gateway)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              Spring Cloud Gateway (Port: 8080)                    â”‚  â”‚
â”‚  â”‚                                                                   â”‚  â”‚
â”‚  â”‚  â€¢ Routing & Load Balancing                                      â”‚  â”‚
â”‚  â”‚  â€¢ CORS Configuration                                            â”‚  â”‚
â”‚  â”‚  â€¢ Authentication/Authorization                                  â”‚  â”‚
â”‚  â”‚  â€¢ Request/Response Logging                                      â”‚  â”‚
â”‚  â”‚  â€¢ Circuit Breaker (ì¤€ë¹„ ì¤‘)                                      â”‚  â”‚
â”‚  â”‚  â€¢ Rate Limiting (ì¤€ë¹„ ì¤‘)                                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                   â”‚                   â”‚
                â–¼                   â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Domain Microservices Layer                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚ auth-service â”‚  â”‚ user-service â”‚  â”‚diary-service â”‚                   â”‚
â”‚  â”‚  Port: 8087  â”‚  â”‚  Port: 8082  â”‚  â”‚  Port: 8083  â”‚                   â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚                   â”‚
â”‚  â”‚ â€¢ OAuth2     â”‚  â”‚ â€¢ User CRUD  â”‚  â”‚ â€¢ Diary CRUD â”‚                   â”‚
â”‚  â”‚ â€¢ JWT        â”‚  â”‚ â€¢ Profile    â”‚  â”‚ â€¢ Search     â”‚                   â”‚
â”‚  â”‚ â€¢ Social     â”‚  â”‚ â€¢ Settings   â”‚  â”‚ â€¢ Analytics  â”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚calendar-svc  â”‚  â”‚culture-svc   â”‚  â”‚healthcare-svcâ”‚                   â”‚
â”‚  â”‚  Port: 8084  â”‚  â”‚  Port: 8086  â”‚  â”‚  Port: 8088  â”‚                   â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚                   â”‚
â”‚  â”‚ â€¢ Events     â”‚  â”‚ â€¢ Culture    â”‚  â”‚ â€¢ Health     â”‚                   â”‚
â”‚  â”‚ â€¢ Tasks      â”‚  â”‚ â€¢ Activities â”‚  â”‚ â€¢ Tracking   â”‚                   â”‚
â”‚  â”‚ â€¢ Reminders  â”‚  â”‚ â€¢ Info       â”‚  â”‚ â€¢ Reports    â”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚pathfinder-svcâ”‚  â”‚account-svc   â”‚  â”‚ common-svc   â”‚                   â”‚
â”‚  â”‚  Port: 8090  â”‚  â”‚  Port: 8089  â”‚  â”‚  Port: 8081  â”‚                   â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚                   â”‚
â”‚  â”‚ â€¢ Pathfinder â”‚  â”‚ â€¢ Accounting â”‚  â”‚ â€¢ Health     â”‚                   â”‚
â”‚  â”‚ â€¢ Analysis   â”‚  â”‚ â€¢ Budget     â”‚  â”‚ â€¢ Metrics    â”‚                   â”‚
â”‚  â”‚ â€¢ Routes     â”‚  â”‚ â€¢ Reports    â”‚  â”‚ â€¢ Common     â”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         AI Services Layer                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  chatbot-service â”‚  â”‚ weather-service  â”‚  â”‚ crawler-service  â”‚      â”‚
â”‚  â”‚   Port: 9001     â”‚  â”‚   Port: 9004     â”‚  â”‚   Port: 9003     â”‚      â”‚
â”‚  â”‚                  â”‚  â”‚                  â”‚  â”‚                  â”‚      â”‚
â”‚  â”‚  â€¢ OpenAI GPT    â”‚  â”‚  â€¢ KMA API       â”‚  â”‚  â€¢ Web Scraping  â”‚      â”‚
â”‚  â”‚  â€¢ RAG           â”‚  â”‚  â€¢ Forecast      â”‚  â”‚  â€¢ Data Extract  â”‚      â”‚
â”‚  â”‚  â€¢ Context       â”‚  â”‚  â€¢ Weather Info  â”‚  â”‚  â€¢ Parsing       â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ERP Services Layer                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚              inventory-service (Port: 9002)                  â”‚       â”‚
â”‚  â”‚                                                              â”‚       â”‚
â”‚  â”‚  â€¢ ì¬ê³  ê´€ë¦¬                                                  â”‚       â”‚
â”‚  â”‚  â€¢ ê³ ê° ì„œë¹„ìŠ¤                                                â”‚       â”‚
â”‚  â”‚  â€¢ FastAPI                                                   â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                   â”‚                   â”‚
                â–¼                   â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Data & Cache Layer                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚   Neon PostgreSQL          â”‚    â”‚   Upstash Redis            â”‚       â”‚
â”‚  â”‚   (Serverless)             â”‚    â”‚   (Serverless)             â”‚       â”‚
â”‚  â”‚                            â”‚    â”‚                            â”‚       â”‚
â”‚  â”‚  â€¢ Primary Database        â”‚    â”‚  â€¢ Session Store           â”‚       â”‚
â”‚  â”‚  â€¢ Auto-scaling            â”‚    â”‚  â€¢ Cache Layer             â”‚       â”‚
â”‚  â”‚  â€¢ Connection Pooling      â”‚    â”‚  â€¢ Rate Limiting           â”‚       â”‚
â”‚  â”‚  â€¢ SSL/TLS                 â”‚    â”‚  â€¢ SSL/TLS                 â”‚       â”‚
â”‚  â”‚  â€¢ Region: ap-southeast-1  â”‚    â”‚  â€¢ Global Distribution     â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. ë ˆì´ì–´ êµ¬ì¡°

### 3.1 ë ˆì´ì–´ë³„ ì±…ì„

| ë ˆì´ì–´ | ê¸°ìˆ  ìŠ¤íƒ | ì±…ì„ | í¬íŠ¸ ë²”ìœ„ |
|--------|----------|------|-----------|
| **Client Layer** | Next.js 15, React 19, Zustand | UI/UX, ì‚¬ìš©ì ìƒí˜¸ì‘ìš©, ìƒíƒœ ê´€ë¦¬ | 3000, 4000 |
| **Edge Layer** | Spring Cloud Gateway | ë¼ìš°íŒ…, ì¸ì¦, CORS, ë¡œê¹… | 8080 |
| **Domain Services** | Spring Boot 3.x, JPA | ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§, ë„ë©”ì¸ ëª¨ë¸ | 8081-8090 |
| **AI Services** | Python, FastAPI, OpenAI | AI ê¸°ëŠ¥, ì™¸ë¶€ API ì—°ë™ | 9001-9004 |
| **ERP Services** | Python, FastAPI | ì¬ê³ /ê³ ê° ê´€ë¦¬ | 9002 |
| **Data Layer** | Neon PostgreSQL, Upstash Redis | ë°ì´í„° ì €ì¥, ìºì‹± | Cloud |

### 3.2 í†µì‹  íŒ¨í„´

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Communication Patterns                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  1. Client â†’ Gateway (HTTP/HTTPS)                           â”‚
â”‚     â€¢ REST API                                              â”‚
â”‚     â€¢ JSON Payload                                          â”‚
â”‚     â€¢ JWT Token in Header/Cookie                           â”‚
â”‚                                                              â”‚
â”‚  2. Gateway â†’ Microservices (HTTP)                          â”‚
â”‚     â€¢ Service Discovery (ì¤€ë¹„ ì¤‘)                            â”‚
â”‚     â€¢ Load Balancing                                        â”‚
â”‚     â€¢ Circuit Breaker (ì¤€ë¹„ ì¤‘)                              â”‚
â”‚                                                              â”‚
â”‚  3. Microservices â†’ Database (JDBC)                         â”‚
â”‚     â€¢ HikariCP Connection Pool                             â”‚
â”‚     â€¢ JPA/Hibernate ORM                                    â”‚
â”‚     â€¢ SSL/TLS Encryption                                   â”‚
â”‚                                                              â”‚
â”‚  4. Microservices â†’ Cache (Redis)                           â”‚
â”‚     â€¢ Spring Data Redis                                    â”‚
â”‚     â€¢ SSL/TLS Encryption                                   â”‚
â”‚     â€¢ Session Management                                   â”‚
â”‚                                                              â”‚
â”‚  5. AI Services â†’ External APIs                             â”‚
â”‚     â€¢ OpenAI API (GPT)                                     â”‚
â”‚     â€¢ ê¸°ìƒì²­ API (KMA)                                      â”‚
â”‚     â€¢ HTTP/HTTPS                                           â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. ì„œë¹„ìŠ¤ ëª©ë¡

### 4.1 Spring Boot ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤

| ì„œë¹„ìŠ¤ | í¬íŠ¸ | ì„¤ëª… | ì£¼ìš” ê¸°ëŠ¥ | ë°ì´í„°ë² ì´ìŠ¤ | ìºì‹œ |
|--------|------|------|-----------|-------------|------|
| **gateway** | 8080 | API Gateway | ë¼ìš°íŒ…, CORS, ì¸ì¦ | âŒ | âœ… Redis |
| **common-service** | 8081 | ê³µí†µ ê¸°ëŠ¥ | Health Check, Metrics | âœ… Neon | âœ… Redis |
| **user-service** | 8082 | ì‚¬ìš©ì ê´€ë¦¬ | CRUD, Profile, Settings | âœ… Neon | âœ… Redis |
| **diary-service** | 8083 | ì¼ê¸° ê´€ë¦¬ | CRUD, Search, Analytics | âœ… Neon | âœ… Redis |
| **calendar-service** | 8084 | ì¼ì •/ì‘ì—… | Events, Tasks, Reminders | âœ… Neon | âœ… Redis |
| **culture-service** | 8086 | ë¬¸í™” ì •ë³´ | Culture, Activities | âœ… Neon | âœ… Redis |
| **auth-service** | 8087 | ì¸ì¦/ì¸ê°€ | OAuth2, JWT, Social Login | âœ… Neon | âœ… Redis |
| **healthcare-service** | 8088 | ê±´ê°• ê´€ë¦¬ | Health Tracking, Reports | âœ… Neon | âœ… Redis |
| **account-service** | 8089 | ê°€ê³„ë¶€ | Accounting, Budget | âœ… Neon | âœ… Redis |
| **pathfinder-service** | 8090 | ê²½ë¡œ íƒìƒ‰ | Pathfinder, Analysis | âœ… Neon | âœ… Redis |

### 4.2 Python AI/ERP ì„œë¹„ìŠ¤

| ì„œë¹„ìŠ¤ | í¬íŠ¸ | ì„¤ëª… | ì£¼ìš” ê¸°ëŠ¥ | ì™¸ë¶€ API |
|--------|------|------|-----------|----------|
| **aihoyun-chatbot-service** | 9001 | AI ì±—ë´‡ | GPT ëŒ€í™”, RAG, Context | OpenAI API |
| **inventory-service** | 9002 | ì¬ê³  ê´€ë¦¬ | ì¬ê³  ê´€ë¦¬, ê³ ê° ì„œë¹„ìŠ¤ | - |
| **aihoyun-crawler-service** | 9003 | ì›¹ í¬ë¡¤ë§ | Web Scraping, Parsing | - |
| **aihoyun-weather-service** | 9004 | ê¸°ìƒ ì •ë³´ | ë‚ ì”¨ ì˜ˆë³´, ì¤‘ê¸°ì˜ˆë³´ | ê¸°ìƒì²­ API |

### 4.3 í”„ë¡ íŠ¸ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜

| ì• í”Œë¦¬ì¼€ì´ì…˜ | í¬íŠ¸ | ì„¤ëª… | ì£¼ìš” ê¸°ëŠ¥ |
|-------------|------|------|-----------|
| **www.aiion.site** | 3000 | ì‚¬ìš©ì ì›¹ | Landing, Home, Diary, Calendar, Chat |
| **admin.aiion.site** | 4000 | ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ | Inventory, Orders, Reports, Settings |

---

## 5. ë°ì´í„° íë¦„

### 5.1 ì‚¬ìš©ì ë¡œê·¸ì¸ í”Œë¡œìš° (OAuth2)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ì‚¬ìš©ì    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 1. "êµ¬ê¸€ë¡œ ì‹œì‘í•˜ê¸°" í´ë¦­
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  www.aiion.site (Frontend)          â”‚
â”‚  â€¢ handleGoogleLogin() ì‹¤í–‰         â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 2. POST /auth/google/login
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  API Gateway (Port: 8080)           â”‚
â”‚  â€¢ Route to auth-service            â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 3. Forward to auth-service
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  auth-service (Port: 8087)          â”‚
â”‚  â€¢ GoogleController.login()         â”‚
â”‚  â€¢ Generate OAuth URL               â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 4. Return authUrl
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend                           â”‚
â”‚  â€¢ window.location.href = authUrl   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 5. Redirect to Google
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Google OAuth2                      â”‚
â”‚  â€¢ User Login & Consent             â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 6. Callback with code
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  auth-service                       â”‚
â”‚  â€¢ GoogleOAuthService.callback()    â”‚
â”‚  â€¢ Exchange code for token          â”‚
â”‚  â€¢ Get user info                    â”‚
â”‚  â€¢ Create/Update user in DB         â”‚
â”‚  â€¢ Generate JWT token               â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 7. Redirect to /login/callback?token=xxx
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend                           â”‚
â”‚  â€¢ Extract token from URL           â”‚
â”‚  â€¢ Store in localStorage            â”‚
â”‚  â€¢ Redirect to /pages/HomePage      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 ì¼ê¸° ì‘ì„± í”Œë¡œìš°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ì‚¬ìš©ì    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 1. ì¼ê¸° ì‘ì„± & ì €ì¥ ë²„íŠ¼ í´ë¦­
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  www.aiion.site                     â”‚
â”‚  â€¢ DiaryView Component              â”‚
â”‚  â€¢ useDiary Hook                    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 2. POST /api/diaries
       â”‚    Headers: { Authorization: Bearer <JWT> }
       â”‚    Body: { title, content, diaryDate, userId }
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  API Gateway                        â”‚
â”‚  â€¢ Validate JWT                     â”‚
â”‚  â€¢ Route to diary-service           â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 3. Forward request
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  diary-service (Port: 8083)         â”‚
â”‚  â€¢ DiaryController.createDiary()    â”‚
â”‚  â€¢ DiaryService.save()              â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 4. Save to DB
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Neon PostgreSQL                    â”‚
â”‚  â€¢ INSERT INTO diaries              â”‚
â”‚  â€¢ Return saved entity              â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 5. Cache invalidation
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Upstash Redis                      â”‚
â”‚  â€¢ DEL diary:user:{userId}          â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 6. Return response
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend                           â”‚
â”‚  â€¢ Update Zustand store             â”‚
â”‚  â€¢ Re-render DiaryView              â”‚
â”‚  â€¢ Show success message             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.3 AI ì±—ë´‡ ëŒ€í™” í”Œë¡œìš°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ì‚¬ìš©ì    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 1. ë©”ì‹œì§€ ì…ë ¥ & ì „ì†¡
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  www.aiion.site                     â”‚
â”‚  â€¢ ChatContainer Component          â”‚
â”‚  â€¢ useAIGateway Hook                â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 2. POST /api/chat
       â”‚    Body: { message, context }
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  API Gateway                        â”‚
â”‚  â€¢ Route to chatbot-service         â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 3. Forward to AI service
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  aihoyun-chatbot-service (9001)     â”‚
â”‚  â€¢ /chat endpoint                   â”‚
â”‚  â€¢ Build context from history       â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 4. Call OpenAI API
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  OpenAI API                         â”‚
â”‚  â€¢ GPT-4 Processing                 â”‚
â”‚  â€¢ Generate response                â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 5. Return AI response
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  chatbot-service                    â”‚
â”‚  â€¢ Parse response                   â”‚
â”‚  â€¢ Save to conversation history     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 6. Return to frontend
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend                           â”‚
â”‚  â€¢ Display AI message               â”‚
â”‚  â€¢ Update chat history              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. ê¸°ìˆ  ìŠ¤íƒ

### 6.1 Backend (Spring Boot)

```yaml
Framework: Spring Boot 3.2.x
Language: Java 17+
Build Tool: Gradle 8.x

Core Dependencies:
  - spring-boot-starter-web          # REST API
  - spring-boot-starter-data-jpa     # ORM
  - spring-cloud-starter-gateway     # API Gateway
  - spring-boot-starter-security     # Security
  - spring-boot-starter-oauth2-client # OAuth2
  - spring-boot-starter-data-redis   # Redis Cache
  - spring-boot-starter-actuator     # Monitoring

Database:
  - PostgreSQL Driver (org.postgresql:postgresql)
  - HikariCP (Connection Pooling)

Security:
  - JWT (io.jsonwebtoken:jjwt)
  - BCrypt (Password Hashing)

Documentation:
  - Springdoc OpenAPI (Swagger UI)

Testing:
  - JUnit 5
  - Mockito
  - Spring Boot Test
```

### 6.2 Backend (Python)

```yaml
Framework: FastAPI 0.100+
Language: Python 3.11+
Package Manager: pip

Core Dependencies:
  - fastapi                # Web Framework
  - uvicorn                # ASGI Server
  - pydantic               # Data Validation
  - httpx                  # HTTP Client
  - python-dotenv          # Environment Variables

AI/ML:
  - openai                 # OpenAI API Client
  - langchain              # LLM Framework (ì¤€ë¹„ ì¤‘)
  - chromadb               # Vector DB (ì¤€ë¹„ ì¤‘)

Web Scraping:
  - beautifulsoup4         # HTML Parsing
  - selenium               # Browser Automation
  - requests               # HTTP Client

Testing:
  - pytest
  - pytest-asyncio
```

### 6.3 Frontend

```yaml
Framework: Next.js 15 (App Router)
Language: TypeScript 5.x
Package Manager: pnpm

Core Dependencies:
  - react 19               # UI Library
  - next 15                # React Framework
  - zustand                # State Management
  - axios                  # HTTP Client

UI Components:
  - tailwindcss            # CSS Framework
  - shadcn/ui              # Component Library
  - lucide-react           # Icons

Forms & Validation:
  - react-hook-form        # Form Management
  - zod                    # Schema Validation

Date & Time:
  - date-fns               # Date Utilities

Testing:
  - jest
  - @testing-library/react
```

### 6.4 Infrastructure

```yaml
Containerization:
  - Docker 24+
  - Docker Compose 2.x

Cloud Database:
  - Neon PostgreSQL (Serverless)
  - Region: ap-southeast-1
  - Connection Pooling: Enabled
  - SSL/TLS: Required

Cloud Cache:
  - Upstash Redis (Serverless)
  - Global Distribution
  - SSL/TLS: Required

Monitoring (ì¤€ë¹„ ì¤‘):
  - Prometheus
  - Grafana
  - Zipkin (Distributed Tracing)
```

---

## 7. ì¸í”„ë¼ êµ¬ì¡°

### 7.1 Docker Compose êµ¬ì„±

```yaml
# docker-compose.yaml êµ¬ì¡°

services:
  # Edge Layer
  gateway:                    # API Gateway (Spring Cloud Gateway)
    ports: ["8080:8080"]
    networks: [spring-network]
    environment:
      - SPRING_DATA_REDIS_HOST=${UPSTASH_REDIS_HOST}
      - SPRING_DATA_REDIS_PASSWORD=${UPSTASH_REDIS_PASSWORD}

  # Domain Services (Spring Boot)
  common-service:             # Port: 8081
  user-service:               # Port: 8082
  diary-service:              # Port: 8083
  calendar-service:           # Port: 8084
  culture-service:            # Port: 8086
  auth-service:               # Port: 8087
  healthcare-service:         # Port: 8088
  account-service:            # Port: 8089
  pathfinder-service:         # Port: 8090
    # ê³µí†µ í™˜ê²½ ë³€ìˆ˜:
    environment:
      - SPRING_DATASOURCE_URL=${NEON_CONNECTION_STRING}
      - SPRING_DATASOURCE_USERNAME=${NEON_USER}
      - SPRING_DATASOURCE_PASSWORD=${NEON_PASSWORD}
      - SPRING_DATA_REDIS_HOST=${UPSTASH_REDIS_HOST}
      - SPRING_DATA_REDIS_PASSWORD=${UPSTASH_REDIS_PASSWORD}
      - SPRING_JPA_HIBERNATE_DDL_AUTO=update

  # AI Services (Python/FastAPI)
  aihoyun-chatbot-service:    # Port: 9001
    environment:
      - OPENAI_API_KEY=${OPENAI_API_KEY}
  
  aihoyun-weather-service:    # Port: 9004
    environment:
      - KMA_API_KEY=${KMA_API_KEY}
  
  aihoyun-crawler-service:    # Port: 9003

  # ERP Services
  inventory-service:          # Port: 9002

networks:
  spring-network:
    driver: bridge
```

### 7.2 í™˜ê²½ ë³€ìˆ˜ êµ¬ì¡° (.env)

```bash
# ===========================================
# Neon Database Configuration
# ===========================================
NEON_CONNECTION_STRING=jdbc:postgresql://ep-crimson-darkness-a1o2y4xd-pooler.ap-southeast-1.aws.neon.tech/neondb?sslmode=require&channel_binding=require
NEON_HOST=ep-crimson-darkness-a1o2y4xd-pooler.ap-southeast-1.aws.neon.tech
NEON_DATABASE=neondb
NEON_USER=neondb_owner
NEON_PASSWORD=npg_yKz6I1piqEBt

# ===========================================
# Upstash Redis Configuration
# ===========================================
UPSTASH_REDIS_URL=rediss://default:xxx@helpful-troll-43968.upstash.io:6379
UPSTASH_REDIS_HOST=helpful-troll-43968.upstash.io
UPSTASH_REDIS_PORT=6379
UPSTASH_REDIS_PASSWORD=xxx
UPSTASH_REDIS_REST_URL=https://helpful-troll-43968.upstash.io
UPSTASH_REDIS_REST_TOKEN=xxx

# ===========================================
# JPA/Hibernate Configuration
# ===========================================
SPRING_JPA_HIBERNATE_DDL_AUTO=update
SPRING_JPA_SHOW_SQL=true
SPRING_JPA_PROPERTIES_HIBERNATE_FORMAT_SQL=true
SPRING_JPA_PROPERTIES_HIBERNATE_DIALECT=org.hibernate.dialect.PostgreSQLDialect

# ===========================================
# OAuth2 Configuration (for auth-service)
# ===========================================
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=http://localhost:8080/oauth2/callback/google

NAVER_CLIENT_ID=
NAVER_CLIENT_SECRET=
NAVER_REDIRECT_URI=http://localhost:8080/oauth2/callback/naver

KAKAO_REST_API_KEY=
KAKAO_CLIENT_SECRET=
KAKAO_REDIRECT_URI=http://localhost:8080/oauth2/callback/kakao

JWT_SECRET=your-secret-key-here-change-in-production-min-256-bits

# ===========================================
# AI Services API Keys
# ===========================================
OPENAI_API_KEY=
KMA_API_KEY=
KMA_SHORT_KEY=
```

### 7.3 ë„¤íŠ¸ì›Œí¬ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Docker Network: spring-network            â”‚
â”‚                    Driver: bridge                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  Internal Communication (Service Name Resolution):          â”‚
â”‚                                                              â”‚
â”‚  gateway:8080                                               â”‚
â”‚    â”œâ”€â†’ common-service:8081                                 â”‚
â”‚    â”œâ”€â†’ auth-service:8087                                   â”‚
â”‚    â”œâ”€â†’ user-service:8082                                   â”‚
â”‚    â”œâ”€â†’ diary-service:8083                                  â”‚
â”‚    â”œâ”€â†’ calendar-service:8084                               â”‚
â”‚    â”œâ”€â†’ culture-service:8086                                â”‚
â”‚    â”œâ”€â†’ healthcare-service:8088                             â”‚
â”‚    â”œâ”€â†’ pathfinder-service:8090                             â”‚
â”‚    â”œâ”€â†’ account-service:8089                                â”‚
â”‚    â”œâ”€â†’ aihoyun-chatbot-service:9001                        â”‚
â”‚    â”œâ”€â†’ aihoyun-weather-service:9004                        â”‚
â”‚    â”œâ”€â†’ aihoyun-crawler-service:9003                        â”‚
â”‚    â””â”€â†’ inventory-service:9002                              â”‚
â”‚                                                              â”‚
â”‚  External Access (Port Mapping):                            â”‚
â”‚    localhost:8080 â†’ gateway:8080                           â”‚
â”‚    localhost:8081-8090 â†’ services:8081-8090                â”‚
â”‚    localhost:9001-9004 â†’ ai-services:9001-9004             â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    External Services                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  Neon PostgreSQL (Cloud)                                    â”‚
â”‚    â€¢ ep-crimson-darkness-a1o2y4xd-pooler.ap-southeast-1...  â”‚
â”‚    â€¢ SSL/TLS Required                                       â”‚
â”‚    â€¢ Connection Pooling (HikariCP)                          â”‚
â”‚                                                              â”‚
â”‚  Upstash Redis (Cloud)                                      â”‚
â”‚    â€¢ helpful-troll-43968.upstash.io:6379                   â”‚
â”‚    â€¢ SSL/TLS Required (rediss://)                          â”‚
â”‚    â€¢ Global Distribution                                    â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 8. ë³´ì•ˆ ì•„í‚¤í…ì²˜

### 8.1 ì¸ì¦/ì¸ê°€ íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Authentication Flow                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  1. Social Login (OAuth2)                                   â”‚
â”‚     User â†’ Frontend â†’ Gateway â†’ auth-service                â”‚
â”‚     â†’ OAuth Provider (Google/Naver/Kakao)                   â”‚
â”‚     â†’ Callback â†’ auth-service â†’ Generate JWT                â”‚
â”‚     â†’ Frontend (Store JWT in localStorage)                  â”‚
â”‚                                                              â”‚
â”‚  2. Email/Password Login                                    â”‚
â”‚     User â†’ Frontend â†’ Gateway â†’ auth-service                â”‚
â”‚     â†’ Validate credentials (BCrypt)                         â”‚
â”‚     â†’ Generate JWT â†’ Frontend                               â”‚
â”‚                                                              â”‚
â”‚  3. API Request with JWT                                    â”‚
â”‚     Frontend â†’ Gateway (JWT in Authorization Header)        â”‚
â”‚     â†’ Validate JWT â†’ Extract userId                         â”‚
â”‚     â†’ Forward to Microservice                               â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.2 ë³´ì•ˆ ê³„ì¸µ

| ê³„ì¸µ | ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ | ì„¤ëª… |
|------|--------------|------|
| **Transport** | HTTPS/TLS | ì „ì†¡ ê³„ì¸µ ì•”í˜¸í™” (í”„ë¡œë•ì…˜) |
| **API Gateway** | CORS, Rate Limiting | Cross-Origin ì œì–´, API í˜¸ì¶œ ì œí•œ |
| **Authentication** | OAuth2, JWT | ì†Œì…œ ë¡œê·¸ì¸, í† í° ê¸°ë°˜ ì¸ì¦ |
| **Authorization** | Role-Based Access Control | ì‚¬ìš©ì ê¶Œí•œ ê¸°ë°˜ ì ‘ê·¼ ì œì–´ |
| **Database** | SSL/TLS, Connection Pooling | DB ì—°ê²° ì•”í˜¸í™”, ì•ˆì „í•œ ì—°ê²° ê´€ë¦¬ |
| **Cache** | SSL/TLS, Password Auth | Redis ì—°ê²° ì•”í˜¸í™”, ë¹„ë°€ë²ˆí˜¸ ì¸ì¦ |
| **Secrets** | Environment Variables | ë¯¼ê° ì •ë³´ë¥¼ .env íŒŒì¼ë¡œ ê´€ë¦¬ |

### 8.3 JWT êµ¬ì¡°

```json
{
  "header": {
    "alg": "HS256",
    "typ": "JWT"
  },
  "payload": {
    "sub": "user_id",
    "email": "user@example.com",
    "name": "User Name",
    "roles": ["USER"],
    "iat": 1234567890,
    "exp": 1234571490
  },
  "signature": "HMACSHA256(base64UrlEncode(header) + '.' + base64UrlEncode(payload), JWT_SECRET)"
}
```

---

## 9. í™•ì¥ ê°€ì´ë“œ

### 9.1 ìƒˆë¡œìš´ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì¶”ê°€

#### Step 1: ì„œë¹„ìŠ¤ ìƒì„±

```bash
# service.aiion.site/ ë””ë ‰í† ë¦¬ì—ì„œ
mkdir new-service
cd new-service

# Spring Initializrë¡œ í”„ë¡œì íŠ¸ ìƒì„±
# ë˜ëŠ” ê¸°ì¡´ ì„œë¹„ìŠ¤ë¥¼ í…œí”Œë¦¿ìœ¼ë¡œ ë³µì‚¬
```

#### Step 2: Dockerfile ì‘ì„±

```dockerfile
# service.aiion.site/new-service/Dockerfile
FROM openjdk:17-jdk-slim
WORKDIR /app
COPY build/libs/*.jar app.jar
EXPOSE 8091
ENTRYPOINT ["java", "-jar", "app.jar"]
```

#### Step 3: docker-compose.yaml ì—…ë°ì´íŠ¸

```yaml
# develop/docker-compose.yaml
services:
  # ... ê¸°ì¡´ ì„œë¹„ìŠ¤ë“¤

  new-service:
    build:
      context: ./service.aiion.site
      dockerfile: ./new-service/Dockerfile
    container_name: new-service
    ports:
      - "8091:8091"
    networks:
      - spring-network
    environment:
      - SPRING_PROFILES_ACTIVE=docker
      - SPRING_DATASOURCE_URL=${NEON_CONNECTION_STRING}
      - SPRING_DATASOURCE_USERNAME=${NEON_USER}
      - SPRING_DATASOURCE_PASSWORD=${NEON_PASSWORD}
      - SPRING_DATA_REDIS_HOST=${UPSTASH_REDIS_HOST}
      - SPRING_DATA_REDIS_PASSWORD=${UPSTASH_REDIS_PASSWORD}
```

#### Step 4: Gateway ë¼ìš°íŒ… ì¶”ê°€

```yaml
# api.aiion.site/server/gateway/src/main/resources/application.yaml
spring:
  cloud:
    gateway:
      routes:
        - id: new-service
          uri: http://new-service:8091
          predicates:
            - Path=/api/new/**
          filters:
            - StripPrefix=1
```

### 9.2 ìƒˆë¡œìš´ AI ì„œë¹„ìŠ¤ ì¶”ê°€

#### Step 1: ì„œë¹„ìŠ¤ ìƒì„±

```bash
# ai.aiion.site/ ë””ë ‰í† ë¦¬ì—ì„œ
mkdir -p ml/recommendation_service
cd ml/recommendation_service

# FastAPI í”„ë¡œì íŠ¸ êµ¬ì¡° ìƒì„±
mkdir app
touch app/main.py
touch Dockerfile
touch requirements.txt
```

#### Step 2: FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ ì‘ì„±

```python
# ai.aiion.site/ml/recommendation_service/app/main.py
from fastapi import FastAPI
import os

app = FastAPI(title="Recommendation Service")

@app.get("/health")
async def health():
    return {"status": "healthy"}

@app.post("/recommend")
async def recommend(user_id: int):
    # Recommendation logic
    return {"recommendations": []}
```

#### Step 3: docker-compose.yaml ì—…ë°ì´íŠ¸

```yaml
# develop/docker-compose.yaml
services:
  # ... ê¸°ì¡´ ì„œë¹„ìŠ¤ë“¤

  aihoyun-recommendation-service:
    build:
      context: ./ai.aiion.site
      dockerfile: ml/recommendation_service/Dockerfile
    container_name: aihoyun-recommendation-service
    ports:
      - "9005:9005"
    networks:
      - spring-network
    environment:
      - API_GATEWAY_URL=http://api-gateway:8080
    restart: unless-stopped
```

### 9.3 í”„ë¡ íŠ¸ì—”ë“œ í˜ì´ì§€ ì¶”ê°€

#### Step 1: í˜ì´ì§€ ìƒì„±

```bash
# www.aiion.site/src/app/ ë””ë ‰í† ë¦¬ì—ì„œ
mkdir new-feature
touch new-feature/page.tsx
```

#### Step 2: í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ ì‘ì„±

```typescript
// www.aiion.site/src/app/new-feature/page.tsx
'use client';

import { useState } from 'react';

export default function NewFeaturePage() {
  const [data, setData] = useState(null);

  return (
    <div>
      <h1>New Feature</h1>
      {/* Component logic */}
    </div>
  );
}
```

#### Step 3: API Hook ìƒì„±

```typescript
// www.aiion.site/src/app/hooks/useNewFeature.ts
import { useState, useEffect } from 'react';
import axios from 'axios';

const API_BASE_URL = process.env.NEXT_PUBLIC_API_GATEWAY_URL || 'http://localhost:8080';

export const useNewFeature = () => {
  const [data, setData] = useState(null);
  const [loading, setLoading] = useState(false);

  const fetchData = async () => {
    setLoading(true);
    try {
      const response = await axios.get(`${API_BASE_URL}/api/new-feature`);
      setData(response.data);
    } catch (error) {
      console.error('Error fetching data:', error);
    } finally {
      setLoading(false);
    }
  };

  return { data, loading, fetchData };
};
```

### 9.4 ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ë³€ê²½

#### ìë™ ìŠ¤í‚¤ë§ˆ ì—…ë°ì´íŠ¸ (ê°œë°œ í™˜ê²½)

```yaml
# .env
SPRING_JPA_HIBERNATE_DDL_AUTO=update  # ìë™ìœ¼ë¡œ ìŠ¤í‚¤ë§ˆ ì—…ë°ì´íŠ¸
```

#### ìˆ˜ë™ ë§ˆì´ê·¸ë ˆì´ì…˜ (í”„ë¡œë•ì…˜ ê¶Œì¥)

```sql
-- Neon PostgreSQLì— ì§ì ‘ ì—°ê²°í•˜ì—¬ ì‹¤í–‰
-- psql 'postgresql://neondb_owner:xxx@ep-crimson-darkness-a1o2y4xd-pooler.ap-southeast-1.aws.neon.tech/neondb?sslmode=require'

-- ìƒˆë¡œìš´ í…Œì´ë¸” ìƒì„±
CREATE TABLE new_table (
    id BIGSERIAL PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- ê¸°ì¡´ í…Œì´ë¸”ì— ì»¬ëŸ¼ ì¶”ê°€
ALTER TABLE users ADD COLUMN phone_number VARCHAR(20);

-- ì¸ë±ìŠ¤ ìƒì„±
CREATE INDEX idx_users_email ON users(email);
```

---

## 10. ëª¨ë‹ˆí„°ë§ & ë¡œê¹… (ì¤€ë¹„ ì¤‘)

### 10.1 ê³„íšëœ ëª¨ë‹ˆí„°ë§ ìŠ¤íƒ

```yaml
# docker-compose.yaml (ì£¼ì„ ì²˜ë¦¬ëœ ë¶€ë¶„)
prometheus:
  image: prom/prometheus:latest
  ports: ["9090:9090"]
  # Metrics ìˆ˜ì§‘

grafana:
  image: grafana/grafana:latest
  ports: ["3001:3000"]
  # ì‹œê°í™” ëŒ€ì‹œë³´ë“œ

zipkin:
  image: openzipkin/zipkin:latest
  ports: ["9411:9411"]
  # Distributed Tracing
```

### 10.2 ë¡œê¹… ì „ëµ

| ì„œë¹„ìŠ¤ | ë¡œê·¸ ë ˆë²¨ | ì¶œë ¥ ìœ„ì¹˜ |
|--------|----------|----------|
| Spring Boot | INFO | stdout, íŒŒì¼ (ì¤€ë¹„ ì¤‘) |
| FastAPI | INFO | stdout |
| Gateway | DEBUG | stdout (CORS, Routing) |

---

## 11. ì„±ëŠ¥ ìµœì í™”

### 11.1 ë°ì´í„°ë² ì´ìŠ¤ ìµœì í™”

```yaml
# HikariCP Connection Pool ì„¤ì •
SPRING_DATASOURCE_HIKARI_MAXIMUM_POOL_SIZE=5
SPRING_DATASOURCE_HIKARI_MINIMUM_IDLE=2
SPRING_DATASOURCE_HIKARI_CONNECTION_TIMEOUT=30000
SPRING_DATASOURCE_HIKARI_IDLE_TIMEOUT=600000
SPRING_DATASOURCE_HIKARI_MAX_LIFETIME=1800000
```

### 11.2 ìºì‹± ì „ëµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Caching Strategy                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  1. Session Store (Redis)                                   â”‚
â”‚     â€¢ User sessions                                         â”‚
â”‚     â€¢ JWT token blacklist                                   â”‚
â”‚     â€¢ TTL: 24 hours                                         â”‚
â”‚                                                              â”‚
â”‚  2. API Response Cache (Redis)                              â”‚
â”‚     â€¢ Frequently accessed data                              â”‚
â”‚     â€¢ Weather information                                   â”‚
â”‚     â€¢ TTL: 5-60 minutes                                     â”‚
â”‚                                                              â”‚
â”‚  3. Database Query Cache (JPA 2nd Level Cache)              â”‚
â”‚     â€¢ Entity cache                                          â”‚
â”‚     â€¢ Query result cache                                    â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 12. ë°°í¬ ì „ëµ (í–¥í›„ ê³„íš)

### 12.1 ê°œë°œ í™˜ê²½

```bash
# ë¡œì»¬ ê°œë°œ
docker-compose up -d

# í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ ì„œë²„
cd www.aiion.site
pnpm dev

cd admin.aiion.site
pnpm dev
```

### 12.2 í”„ë¡œë•ì…˜ í™˜ê²½ (ê³„íš)

```yaml
# Kubernetes ë°°í¬ (í–¥í›„)
- Container Orchestration: Kubernetes
- Cloud Provider: AWS/GCP/Azure
- CI/CD: GitHub Actions
- Monitoring: Prometheus + Grafana
- Logging: ELK Stack
```

---

## 13. íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### 13.1 ì¼ë°˜ì ì¸ ë¬¸ì œ

| ë¬¸ì œ | ì›ì¸ | í•´ê²° ë°©ë²• |
|------|------|----------|
| ì»¨í…Œì´ë„ˆ ì‹œì‘ ì‹¤íŒ¨ | í¬íŠ¸ ì¶©ëŒ | `docker-compose down` í›„ ì¬ì‹œì‘ |
| DB ì—°ê²° ì‹¤íŒ¨ | Neon ìê²© ì¦ëª… ì˜¤ë¥˜ | `.env` íŒŒì¼ í™•ì¸ |
| Redis ì—°ê²° ì‹¤íŒ¨ | Upstash ìê²© ì¦ëª… ì˜¤ë¥˜ | `.env` íŒŒì¼ í™•ì¸ |
| OAuth ë¡œê·¸ì¸ ì‹¤íŒ¨ | Client ID/Secret ëˆ„ë½ | `.env`ì— OAuth ì„¤ì • ì¶”ê°€ |
| CORS ì—ëŸ¬ | Gateway CORS ì„¤ì • | `CorsConfig.java` í™•ì¸ |

### 13.2 ë””ë²„ê¹… ëª…ë ¹ì–´

```bash
# ì»¨í…Œì´ë„ˆ ë¡œê·¸ í™•ì¸
docker-compose logs -f [service-name]

# ì»¨í…Œì´ë„ˆ ìƒíƒœ í™•ì¸
docker-compose ps

# ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘
docker-compose restart [service-name]

# ì „ì²´ ì¬ë¹Œë“œ
docker-compose down
docker-compose build --no-cache
docker-compose up -d

# ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í…ŒìŠ¤íŠ¸
psql 'postgresql://neondb_owner:xxx@ep-crimson-darkness-a1o2y4xd-pooler.ap-southeast-1.aws.neon.tech/neondb?sslmode=require'

# Redis ì—°ê²° í…ŒìŠ¤íŠ¸
redis-cli -h helpful-troll-43968.upstash.io -p 6379 -a xxx --tls
```

---

## 14. ì°¸ê³  ìë£Œ

### 14.1 ê³µì‹ ë¬¸ì„œ

- [Spring Boot Documentation](https://spring.io/projects/spring-boot)
- [Spring Cloud Gateway](https://spring.io/projects/spring-cloud-gateway)
- [Next.js Documentation](https://nextjs.org/docs)
- [FastAPI Documentation](https://fastapi.tiangolo.com/)
- [Docker Documentation](https://docs.docker.com/)
- [Neon PostgreSQL](https://neon.tech/docs)
- [Upstash Redis](https://docs.upstash.com/redis)

### 14.2 ì•„í‚¤í…ì²˜ íŒ¨í„´

- [Microservices Pattern](https://microservices.io/)
- [API Gateway Pattern](https://microservices.io/patterns/apigateway.html)
- [Circuit Breaker Pattern](https://microservices.io/patterns/reliability/circuit-breaker.html)
- [Saga Pattern](https://microservices.io/patterns/data/saga.html)

---

## 15. ë²„ì „ íˆìŠ¤í† ë¦¬

| ë²„ì „ | ë‚ ì§œ | ë³€ê²½ ì‚¬í•­ |
|------|------|----------|
| 1.0 | 2024-11-XX | ì´ˆê¸° ì•„í‚¤í…ì²˜ êµ¬ì„± (ë¡œì»¬ PostgreSQL, Redis) |
| 2.0 | 2024-12-03 | í´ë¼ìš°ë“œ ì „í™˜ (Neon, Upstash), Docker Compose í†µí•© |

---

## ğŸ“ ë¬¸ì˜

í”„ë¡œì íŠ¸ ê´€ë ¨ ë¬¸ì˜ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ì´ìŠˆë¥¼ ë“±ë¡í•´ì£¼ì„¸ìš”.

**Last Updated**: 2024-12-03

